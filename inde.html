<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chassis Systems Interactive Revision</title>
    <style>
        :root {
            --primary: #1a4b84;
            --secondary: #2a7abd;
            --accent: #f39c12;
            --correct: #27ae60;
            --wrong: #e74c3c;
            --light: #f5f5f5;
            --dark: #333;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        header h1 {
            text-align: center;
            font-size: 2.5rem;
        }
        
        header p {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 10px;
        }
        
        nav {
            background-color: var(--secondary);
            padding: 10px 0;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            list-style: none;
        }
        
        .tab-link {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
            margin: 0 5px;
            transition: background-color 0.3s;
        }
        
        .tab-link:hover, .tab-link.active {
            background-color: var(--accent);
        }
        
        .content-section {
            display: none;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .content-section.active {
            display: block;
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
        }
        
        h3 {
            color: var(--secondary);
            margin: 20px 0 10px;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        .quiz-container, .drag-drop-container, .flashcard-container, .simulation-container {
            margin: 20px 0;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        .question {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .question p {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .options {
            list-style: none;
            margin: 10px 0;
        }
        
        .option {
            padding: 15px; /* Increased padding for better touch targets */
            margin: 8px 0;
            background-color: #eee;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .option:hover {
            background-color: #ddd;
        }
        
        .option.selected {
            background-color: var(--secondary);
            color: white;
        }
        
        .option.correct {
            background-color: var(--correct);
            color: white;
        }
        
        .option.wrong {
            background-color: var(--wrong);
            color: white;
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .feedback.correct {
            background-color: rgba(39, 174, 96, 0.2);
            color: var(--correct);
        }
        
        .feedback.wrong {
            background-color: rgba(231, 76, 60, 0.2);
            color: var(--wrong);
        }
        
        button {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 12px 20px; /* Increased padding for better touch targets */
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 15px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--primary);
        }
        
        .progress-container {
            margin: 20px 0;
            background-color: #eee;
            border-radius: 5px;
            height: 20px;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--accent);
            border-radius: 5px;
            width: 0;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .diagram-container {
            position: relative;
            width: 100%;
            text-align: center;
            margin: 20px 0;
        }
        
        .diagram-image {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            display: block;
            margin: 0 auto;
        }
        
        .hotspot {
            position: absolute;
            width: 40px; /* Increased size for better touch targets */
            height: 40px;
            background-color: rgba(243, 156, 18, 0.7);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: transform 0.3s, background-color 0.3s;
        }
        
        .hotspot:hover {
            transform: scale(1.2);
            background-color: var(--accent);
        }
        
        .info-box {
            display: none;
            position: absolute;
            width: 200px;
            padding: 15px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }
        
        .drag-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative; /* For absolute positioning of dragging items */
        }
        
        .drag-item {
            padding: 15px; /* Increased padding for better touch targets */
            background-color: var(--secondary);
            color: white;
            border-radius: 5px;
            user-select: none;
            display: inline-block;
            touch-action: none; /* Prevent browser handling of touch events */
            text-align: center;
            transition: opacity 0.3s;
            margin: 5px;
            cursor: grab;
        }
        
        .drag-item.dragging {
            opacity: 0.6;
        }
        
        .drag-item.touch-dragging {
            position: absolute;
            z-index: 1000;
            opacity: 0.8;
            pointer-events: none;
        }
        
        .drop-zones {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .drop-zone {
            padding: 15px;
            min-height: 70px; /* Increased height for better touch targets */
            border: 2px dashed #ddd;
            border-radius: 5px;
            transition: background-color 0.3s, border-color 0.3s;
            display: flex;
            align-items: center;
            background-color: white;
        }
        
        .drop-zone.highlight {
            background-color: rgba(42, 122, 189, 0.1);
            border-color: var(--secondary);
        }
        
        .drop-zone .drag-item {
            margin-left: 10px;
        }
        
        .flashcard {
            width: 100%;
            height: 200px;
            perspective: 1000px;
            margin: 20px 0;
        }
        
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .flashcard-front {
            background-color: var(--primary);
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .flashcard-back {
            background-color: white;
            color: var(--dark);
            transform: rotateY(180deg);
            overflow-y: auto;
        }
        
        .flashcard-nav {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .flashcard-nav button {
            flex: 1 1 auto;
            min-width: 80px;
            margin: 0;
        }
        
        .simulation-area {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            margin: 20px 0;
            background-color: #f9f9f9;
        }
        
        .car-chassis {
            position: absolute;
            width: 300px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .sim-controls {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }
        
        footer {
            background-color: var(--primary);
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 30px;
        }
        
        /* Enhanced Mobile Styling */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .tab-link {
                margin: 5px 0;
                width: 90%;
                text-align: center;
            }
            
            .info-box {
                width: 180px;
                left: 50% !important;
                transform: translateX(-50%);
                top: 100% !important; /* Position below the hotspot */
            }
            
            header h1 {
                font-size: 1.8rem;
            }
            
            .drag-items {
                flex-direction: column;
                align-items: center;
            }
            
            .drag-item {
                width: 90%;
                text-align: center;
            }
            
            .drop-zone {
                min-height: 80px;
                padding: 15px 10px;
            }
            
            .option {
                padding: 15px 10px;
            }
            
            .question p {
                font-size: 1rem;
            }
            
            .flashcard-nav {
                justify-content: space-between;
            }
            
            .flashcard-nav button {
                padding: 10px;
                font-size: 0.9rem;
            }
            
            .diagram-container {
                padding-bottom: 60px; /* Space for hotspot info boxes that appear below */
            }
        }
        
        /* Extra small devices */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .content-section {
                padding: 15px 10px;
            }
            
            header h1 {
                font-size: 1.5rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            .drag-item, .drop-zone {
                font-size: 0.9rem;
            }
            
            .flashcard {
                height: 180px;
            }
            
            .flashcard-front {
                font-size: 1.2rem;
            }
            
            .flashcard-back {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Vehicle Chassis Systems</h1>
            <p>Interactive Revision for Level 2 Motor Vehicle Learners</p>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <ul class="tabs">
                <li><a class="tab-link active" data-tab="intro">Introduction</a></li>
                <li><a class="tab-link" data-tab="steering">Steering Systems</a></li>
                <li><a class="tab-link" data-tab="suspension">Suspension Systems</a></li>
                <li><a class="tab-link" data-tab="brakes">Braking Systems</a></li>
                <li><a class="tab-link" data-tab="wheels">Wheels & Tyres</a></li>
                <li><a class="tab-link" data-tab="exam">Mock Exam</a></li>
            </ul>
        </div>
    </nav>
    
    <div class="container">
        <section id="intro" class="content-section active">
            <h2>Welcome to Chassis Systems Interactive Revision</h2>
            <p>This interactive learning tool is designed to help you prepare for your upcoming Unit 154 exam on Light Vehicle Chassis Units and Components.</p>
            
            <h3>How to Use This Resource:</h3>
            <p>Navigate through the tabs above to access different sections of the chassis systems. Each section includes:</p>
            <ul>
                <li>Key information and diagrams</li>
                <li>Interactive quizzes</li>
                <li>Component identification activities</li>
                <li>Flashcards for terminology</li>
                <li>Interactive simulations</li>
            </ul>
            
            <p>Complete the activities in each section to test your knowledge. When you feel ready, take the mock exam to assess your preparation level.</p>
            
            <h3>Learning Outcomes:</h3>
            <p>By the end of this revision session, you should be able to:</p>
            <ul>
                <li>Understand how steering and suspension systems operate</li>
                <li>Understand how braking systems operate</li>
                <li>Understand how wheel and tyre systems operate</li>
                <li>Understand how to check, replace and test chassis units and components</li>
            </ul>
            
            <div style="text-align: center; margin-top: 30px;">
                <button id="start-btn">Start Learning</button>
            </div>
        </section>
        
        <section id="steering" class="content-section">
            <h2>Steering Systems</h2>
            
            <h3>Key Components and Operation</h3>
            <p>Steering systems convert the rotational movement of the steering wheel into the angular movement of the road wheels, allowing the driver to control the vehicle's direction.</p>
            
            <div class="diagram-container">
                <img src="/api/placeholder/800/450" alt="Steering System Diagram" class="diagram-image">
                <div class="hotspot" style="top: 50%; left: 30%;" data-info="rack">1</div>
                <div class="hotspot" style="top: 30%; left: 60%;" data-info="tierod">2</div>
                <div class="hotspot" style="top: 40%; left: 45%;" data-info="steering-column">3</div>
                
                <div class="info-box" id="rack-info">
                    <h4>Steering Rack</h4>
                    <p>Converts rotational motion from the steering column to linear motion, moving the tie rods left and right.</p>
                </div>
                <div class="info-box" id="tierod-info">
                    <h4>Tie Rod</h4>
                    <p>Connects the steering rack to the steering knuckle, transferring motion to turn the wheels.</p>
                </div>
                <div class="info-box" id="steering-column-info">
                    <h4>Steering Column</h4>
                    <p>Connects the steering wheel to the steering rack or box.</p>
                </div>
            </div>
            
            <h3>Steering Geometry</h3>
            <p>The following angles and measurements are crucial for proper steering operation:</p>
            <ul>
                <li><strong>Castor Angle:</strong> The forward or backward slope of the steering axis when viewed from the side. Positive castor improves straight-line stability.</li>
                <li><strong>Camber Angle:</strong> The inward or outward tilt of the wheel when viewed from the front. Affects tire wear and handling.</li>
                <li><strong>Kingpin Inclination:</strong> The inward tilt of the steering axis when viewed from the front. Helps return the steering to center.</li>
                <li><strong>Toe-in/Toe-out:</strong> The difference in distance between the front and rear of the wheels. Affects straight-line stability and tire wear.</li>
            </ul>
            
            <div class="quiz-container">
                <h3>Quick Quiz: Steering Systems</h3>
                
                <div class="question" id="steering-q1">
                    <p>1. What effect does positive castor angle have on a vehicle?</p>
                    <ul class="options">
                        <li class="option" data-correct="true">Improves straight-line stability</li>
                        <li class="option">Reduces steering effort</li>
                        <li class="option">Increases tire wear on inner edges</li>
                        <li class="option">Causes the vehicle to pull to one side</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="steering-q2">
                    <p>2. Which steering geometry principle explains why the inside wheel turns at a greater angle than the outside wheel during cornering?</p>
                    <ul class="options">
                        <li class="option" data-correct="true">Ackerman principle</li>
                        <li class="option">Castor principle</li>
                        <li class="option">Camber principle</li>
                        <li class="option">Kingpin principle</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="steering-q3">
                    <p>3. What is the main advantage of power-assisted steering systems?</p>
                    <ul class="options">
                        <li class="option">They eliminate tire wear</li>
                        <li class="option">They prevent understeer</li>
                        <li class="option" data-correct="true">They reduce driver effort, especially at low speeds</li>
                        <li class="option">They improve fuel economy</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <button id="check-steering-quiz">Check Answers</button>
            </div>
            
            <div class="flashcard-container">
                <h3>Steering Terminology Flashcards</h3>
                
                <div class="flashcard" id="flashcard-1">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <p>Understeer</p>
                        </div>
                        <div class="flashcard-back">
                            <p>A handling condition where the vehicle tends to continue straight ahead when cornering, with the front tires losing grip before the rear tires. The car "pushes" toward the outside of the turn.</p>
                        </div>
                    </div>
                </div>
                
                <div class="flashcard-nav">
                    <button id="prev-card">Previous</button>
                    <button id="flip-card">Flip Card</button>
                    <button id="next-card">Next</button>
                </div>
            </div>
        </section>
        
        <section id="suspension" class="content-section">
            <h2>Suspension Systems</h2>
            
            <h3>Types of Suspension Systems</h3>
            <p>Suspension systems are designed to support the vehicle weight, absorb road shocks, and maintain tire contact with the road.</p>
            
            <h4>Independent Front Suspension (IFS)</h4>
            <p>Allows each wheel to move independently, providing better ride quality and handling. Common types include:</p>
            <ul>
                <li><strong>MacPherson Strut:</strong> Combines the spring, damper, and upper control arm into one unit.</li>
                <li><strong>Double Wishbone:</strong> Uses two control arms (wishbones) to allow vertical wheel movement with minimal change to camber angle.</li>
            </ul>
            
            <h4>Rigid Axle Suspension</h4>
            <p>A solid beam connects the left and right wheels, causing movement of one wheel to affect the other. Often used on rear suspensions of trucks and some rear-wheel-drive vehicles.</p>
            
            <div class="diagram-container">
                <img src="/api/placeholder/800/450" alt="Suspension Systems" class="diagram-image">
            </div>
            
            <h3>Suspension Components</h3>
            <div class="drag-drop-container">
                <h4>Match the Components to Their Functions</h4>
                
                <div class="drag-items">
                    <div class="drag-item" data-component="shock-absorber">Shock Absorber</div>
                    <div class="drag-item" data-component="coil-spring">Coil Spring</div>
                    <div class="drag-item" data-component="anti-roll-bar">Anti-Roll Bar</div>
                    <div class="drag-item" data-component="ball-joint">Ball Joint</div>
                    <div class="drag-item" data-component="control-arm">Control Arm</div>
                </div>
                
                <div class="drop-zones">
                    <div class="drop-zone" data-target="shock-absorber">
                        <p>Dampens spring oscillations, controls excessive bounce and rebound</p>
                    </div>
                    <div class="drop-zone" data-target="coil-spring">
                        <p>Supports vehicle weight and absorbs road shocks</p>
                    </div>
                    <div class="drop-zone" data-target="anti-roll-bar">
                        <p>Reduces body roll during cornering</p>
                    </div>
                    <div class="drop-zone" data-target="ball-joint">
                        <p>Allows pivoting movement between suspension components</p>
                    </div>
                    <div class="drop-zone" data-target="control-arm">
                        <p>Links the chassis to the knuckle and controls wheel movement</p>
                    </div>
                </div>
                
                <button id="check-drag-drop">Check Answers</button>
                <div id="drag-drop-result" style="margin-top: 15px;"></div>
            </div>
            
            <div class="quiz-container">
                <h3>Quick Quiz: Suspension Systems</h3>
                
                <div class="question" id="suspension-q1">
                    <p>1. What suspension movement term describes when the front of the vehicle drops during heavy braking?</p>
                    <ul class="options">
                        <li class="option">Roll</li>
                        <li class="option" data-correct="true">Dive</li>
                        <li class="option">Pitch</li>
                        <li class="option">Bounce</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="suspension-q2">
                    <p>2. Which of these is NOT a type of independent suspension?</p>
                    <ul class="options">
                        <li class="option">MacPherson strut</li>
                        <li class="option">Double wishbone</li>
                        <li class="option" data-correct="true">Leaf spring with solid axle</li>
                        <li class="option">Multi-link</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <button id="check-suspension-quiz">Check Answers</button>
            </div>
        </section>
        
        <section id="brakes" class="content-section">
            <h2>Braking Systems</h2>
            
            <h3>Types of Brakes</h3>
            
            <h4>Disc Brakes</h4>
            <p>Consist of a brake disc (rotor) attached to the wheel hub, and a caliper containing brake pads that press against the disc to create friction.</p>
            <ul>
                <li>Better heat dissipation</li>
                <li>More consistent braking performance</li>
                <li>Self-adjusting</li>
                <li>More effective in wet conditions</li>
            </ul>
            
            <h4>Drum Brakes</h4>
            <p>Consist of a drum attached to the wheel hub, with brake shoes inside that press outward against the drum to create friction.</p>
            <ul>
                <li>Lower cost</li>
                <li>Effective parking brake function</li>
                <li>Protected from external elements</li>
                <li>Less effective cooling than disc brakes</li>
            </ul>
            
            <div class="diagram-container">
                <img src="/api/placeholder/800/450" alt="Braking Systems" class="diagram-image">
            </div>
            
            <h3>Hydraulic System Components</h3>
            <ul>
                <li><strong>Master Cylinder:</strong> Converts pedal force into hydraulic pressure</li>
                <li><strong>Brake Lines and Hoses:</strong> Transport hydraulic fluid to the wheels</li>
                <li><strong>Wheel Cylinders/Calipers:</strong> Convert hydraulic pressure into mechanical force</li>
                <li><strong>Brake Fluid:</strong> Incompressible fluid that transfers force</li>
                <li><strong>Brake Servo:</strong> Amplifies pedal force for reduced effort</li>
            </ul>
            
            <h3>Electronic Braking Systems</h3>
            <p>Modern vehicles are equipped with electronic systems to enhance braking performance:</p>
            <ul>
                <li><strong>ABS (Anti-lock Braking System):</strong> Prevents wheel lock-up during braking</li>
                <li><strong>EBD (Electronic Brake Distribution):</strong> Optimizes brake force distribution</li>
                <li><strong>TCS (Traction Control System):</strong> Prevents wheel spin during acceleration</li>
                <li><strong>ESC (Electronic Stability Control):</strong> Helps maintain vehicle control during cornering</li>
            </ul>
            
            <div class="quiz-container">
                <h3>Quick Quiz: Braking Systems</h3>
                
                <div class="question" id="brakes-q1">
                    <p>1. Which property of brake fluid is critical for its function in high-temperature conditions?</p>
                    <ul class="options">
                        <li class="option" data-correct="true">High boiling point</li>
                        <li class="option">Low viscosity</li>
                        <li class="option">Acidic pH</li>
                        <li class="option">Low density</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="brakes-q2">
                    <p>2. What is the main purpose of the ABS (Anti-lock Braking System)?</p>
                    <ul class="options">
                        <li class="option">To increase braking power</li>
                        <li class="option">To reduce brake pad wear</li>
                        <li class="option" data-correct="true">To prevent wheel lock-up during braking</li>
                        <li class="option">To automatically apply brakes in emergency situations</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="brakes-q3">
                    <p>3. Which term refers to a reduction in braking effectiveness due to excessive heat?</p>
                    <ul class="options">
                        <li class="option">Brake drag</li>
                        <li class="option" data-correct="true">Brake fade</li>
                        <li class="option">Brake judder</li>
                        <li class="option">Brake bias</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <button id="check-brakes-quiz">Check Answers</button>
            </div>
            
            <div class="simulation-container">
                <h3>Brake System Troubleshooting Simulation</h3>
                <p>Identify the potential cause of each brake problem:</p>
                
                <div class="question" id="sim-q1">
                    <p>Vehicle pulls to one side during braking</p>
                    <ul class="options">
                        <li class="option" data-correct="true">Uneven brake pad wear or contaminated brake surfaces</li>
                        <li class="option">Low brake fluid level</li>
                        <li class="option">Worn brake disc</li>
                        <li class="option">Faulty brake servo</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="sim-q2">
                    <p>Spongy brake pedal feel</p>
                    <ul class="options">
                        <li class="option">Worn brake pads</li>
                        <li class="option" data-correct="true">Air in the hydraulic system</li>
                        <li class="option">Warped brake disc</li>
                        <li class="option">Faulty brake light switch</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <button id="check-brake-sim">Check Diagnosis</button>
            </div>
        </section>
        
        <section id="wheels" class="content-section">
            <h2>Wheels & Tyres</h2>
            
            <h3>Tyre Construction and Markings</h3>
            <p>Tyres are designed to provide grip, cushion road impacts, and transmit driving and braking forces to the road surface.</p>
            
            <h4>Tyre Types:</h4>
            <ul>
                <li><strong>Radial:</strong> Cords run at 90° to the direction of travel. Better handling, longer life.</li>
                <li><strong>Cross-ply:</strong> Cords run diagonally across the tyre. More robust for rough conditions.</li>
                <li><strong>Bias-belted:</strong> Cross-ply construction with additional stabilizing belts.</li>
            </ul>
            
            <div class="diagram-container">
                <img src="/api/placeholder/800/450" alt="Tyre Markings" class="diagram-image">
            </div>
            
            <h4>Understanding Tyre Markings:</h4>
            <p>Example: 205/55 R16 91V</p>
            <ul>
                <li><strong>205:</strong> Tyre width in mm</li>
                <li><strong>55:</strong> Aspect ratio (height as percentage of width)</li>
                <li><strong>R:</strong> Radial construction</li>
                <li><strong>16:</strong> Rim diameter in inches</li>
                <li><strong>91:</strong> Load index (maximum weight capacity)</li>
                <li><strong>V:</strong> Speed rating (maximum speed)</li>
            </ul>
            
            <h3>Wheel Construction</h3>
            <p>Wheels are designed to support the tyre, transmit driving and braking forces, and dissipate heat from the brakes.</p>
            
            <h4>Types of Wheels:</h4>
            <ul>
                <li><strong>Steel Wheels:</strong> Durable, inexpensive, easily repaired</li>
                <li><strong>Alloy Wheels:</strong> Lighter, better heat dissipation, improved appearance</li>
                <li><strong>Wire Wheels:</strong> Classic design, lightweight (historical significance)</li>
            </ul>
            
            <div class="quiz-container">
                <h3>Quick Quiz: Wheels & Tyres</h3>
                
                <div class="question" id="wheels-q1">
                    <p>1. What does the speed rating 'V' indicate on a tyre?</p>
                    <ul class="options">
                        <li class="option">Up to 149 km/h</li>
                        <li class="option">Up to 180 km/h</li>
                        <li class="option">Up to 210 km/h</li>
                        <li class="option" data-correct="true">Up to 240 km/h</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="wheels-q2">
                    <p>2. Which tyre wear pattern indicates incorrect toe alignment?</p>
                    <ul class="options">
                        <li class="option">Center wear</li>
                        <li class="option" data-correct="true">Wear on one edge</li>
                        <li class="option">Cupping or scalloping</li>
                        <li class="option">Diagonal wear across the tread</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="wheels-q3">
                    <p>3. What is the main advantage of alloy wheels over steel wheels?</p>
                    <ul class="options">
                        <li class="option">Lower cost</li>
                        <li class="option">Greater strength</li>
                        <li class="option" data-correct="true">Reduced unsprung weight and better heat dissipation</li>
                        <li class="option">Easier to repair</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <button id="check-wheels-quiz">Check Answers</button>
            </div>
            
            <div class="flashcard-container">
                <h3>Wheel & Tyre Terminology Flashcards</h3>
                
                <div class="flashcard" id="tyre-flashcard-1">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <p>Unsprung Weight</p>
                        </div>
                        <div class="flashcard-back">
                            <p>The weight of components not supported by the suspension (wheels, tyres, brake assemblies). Lower unsprung weight improves ride quality and handling by allowing the suspension to respond more quickly to road irregularities.</p>
                        </div>
                    </div>
                </div>
                
                <div class="flashcard-nav">
                    <button id="tyre-prev-card">Previous</button>
                    <button id="tyre-flip-card">Flip Card</button>
                    <button id="tyre-next-card">Next</button>
                </div>
            </div>
        </section>
        
        <section id="exam" class="content-section">
            <h2>Mock Exam</h2>
            <p>Test your knowledge with this 10-question multiple-choice quiz covering all aspects of chassis systems.</p>
            
            <div class="progress-container">
                <div class="progress-bar" id="exam-progress">0%</div>
            </div>
            
            <div class="quiz-container" id="mock-exam">
                <div class="question" id="exam-q1">
                    <p>1. What is the main purpose of a suspension system?</p>
                    <ul class="options">
                        <li class="option">To reduce fuel consumption</li>
                        <li class="option" data-correct="true">To maintain tire contact with the road and absorb road shocks</li>
                        <li class="option">To provide steering control only</li>
                        <li class="option">To reduce vehicle weight</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q2">
                    <p>2. Which of these is a component of a disc brake system?</p>
                    <ul class="options">
                        <li class="option">Brake shoe</li>
                        <li class="option">Wheel cylinder</li>
                        <li class="option" data-correct="true">Caliper</li>
                        <li class="option">Adjuster</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q3">
                    <p>3. What does the term 'self-servo action' refer to in drum brakes?</p>
                    <ul class="options">
                        <li class="option">The automatic adjustment system</li>
                        <li class="option" data-correct="true">The effect where the drum rotation helps pull the brake shoe into contact</li>
                        <li class="option">The brake servo that assists pedal pressure</li>
                        <li class="option">The anti-lock braking feature</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q4">
                    <p>4. Which of these steering geometry angles affects the wheel's tendency to return to center?</p>
                    <ul class="options">
                        <li class="option" data-correct="true">Castor angle</li>
                        <li class="option">Camber angle</li>
                        <li class="option">Toe angle</li>
                        <li class="option">Included angle</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q5">
                    <p>5. What component connects the steering rack to the steering knuckle?</p>
                    <ul class="options">
                        <li class="option">Idler arm</li>
                        <li class="option" data-correct="true">Tie rod</li>
                        <li class="option">Pitman arm</li>
                        <li class="option">Control arm</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q6">
                    <p>6. Which of these properties is NOT important for brake fluid?</p>
                    <ul class="options">
                        <li class="option">High boiling point</li>
                        <li class="option">Non-corrosive to brake components</li>
                        <li class="option">Low compressibility</li>
                        <li class="option" data-correct="true">High electrical conductivity</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q7">
                    <p>7. What is the term for excessive tire wear on both outer edges with the center relatively unworn?</p>
                    <ul class="options">
                        <li class="option" data-correct="true">Underinflation</li>
                        <li class="option">Overinflation</li>
                        <li class="option">Toe wear</li>
                        <li class="option">Camber wear</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q8">
                    <p>8. What is the primary function of shock absorbers in a suspension system?</p>
                    <ul class="options">
                        <li class="option">To support the vehicle weight</li>
                        <li class="option" data-correct="true">To control spring oscillations and dampen bounce</li>
                        <li class="option">To prevent body roll during cornering</li>
                        <li class="option">To maintain wheel alignment</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q9">
                    <p>9. Which safety precaution is specifically important when working on hybrid/electric vehicle chassis components?</p>
                    <ul class="options">
                        <li class="option">Using non-silicone-based lubricants</li>
                        <li class="option">Ensuring the vehicle is in park</li>
                        <li class="option" data-correct="true">Ensuring high-voltage systems are isolated</li>
                        <li class="option">Using nitrogen-filled tires</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <div class="question" id="exam-q10">
                    <p>10. What is the purpose of a load-sensing valve in a braking system?</p>
                    <ul class="options">
                        <li class="option">To prevent wheel lock-up</li>
                        <li class="option" data-correct="true">To adjust brake force based on vehicle load</li>
                        <li class="option">To boost pedal pressure</li>
                        <li class="option">To maintain brake fluid pressure</li>
                    </ul>
                    <div class="feedback"></div>
                </div>
                
                <button id="check-exam">Submit Exam</button>
                <div id="exam-result" style="margin-top: 20px; display: none;"></div>
            </div>
        </section>
    </div>
    
    <footer>
        <div class="container">
            <p>© 2025 Vehicle Chassis Interactive Learning</p>
            <p>Good luck with your exam!</p>
        </div>
    </footer>
    
    <script>
        // Tab Navigation
        const tabLinks = document.querySelectorAll('.tab-link');
        const contentSections = document.querySelectorAll('.content-section');
        
        tabLinks.forEach(link => {
            link.addEventListener('click', () => {
                const tabId = link.getAttribute('data-tab');
                
                // Remove active class from all tabs and sections
                tabLinks.forEach(tab => tab.classList.remove('active'));
                contentSections.forEach(section => section.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding section
                link.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // Start button
        document.getElementById('start-btn').addEventListener('click', () => {
            document.querySelector('.tab-link[data-tab="steering"]').click();
        });
        
        // Hotspot functionality for both mouse and touch
        const hotspots = document.querySelectorAll('.hotspot');
        
        hotspots.forEach(hotspot => {
            const infoType = hotspot.getAttribute('data-info');
            const infoBox = document.getElementById(`${infoType}-info`);
            
            // Mouse events
            hotspot.addEventListener('mouseenter', (e) => {
                showInfoBox(e, hotspot, infoBox);
            });
            
            hotspot.addEventListener('mouseleave', () => {
                infoBox.style.display = 'none';
            });
            
            // Touch events
            hotspot.addEventListener('touchstart', (e) => {
                e.preventDefault(); // Prevent default touch behavior
                
                // Close any other open info boxes
                document.querySelectorAll('.info-box').forEach(box => {
                    if (box !== infoBox) {
                        box.style.display = 'none';
                    }
                });
                
                // Toggle this info box
                if (infoBox.style.display === 'block') {
                    infoBox.style.display = 'none';
                } else {
                    showInfoBox(e, hotspot, infoBox);
                }
            });
        });
        
        function showInfoBox(e, hotspot, infoBox) {
            // Position info box near hotspot
            const hotspotRect = hotspot.getBoundingClientRect();
            const containerRect = hotspot.parentElement.getBoundingClientRect();
            
            // Check if we're on mobile (smaller screens)
            if (window.innerWidth <= 768) {
                infoBox.style.left = '50%';
                infoBox.style.top = '100%'; 
            } else {
                infoBox.style.left = `${hotspotRect.left - containerRect.left + 40}px`;
                infoBox.style.top = `${hotspotRect.top - containerRect.top}px`;
            }
            
            infoBox.style.display = 'block';
        }
        
        // Quiz functionality
        const quizButtons = document.querySelectorAll('#check-steering-quiz, #check-suspension-quiz, #check-brakes-quiz, #check-wheels-quiz, #check-brake-sim');
        
        quizButtons.forEach(button => {
            button.addEventListener('click', () => {
                const quizContainer = button.closest('.quiz-container');
                const questions = quizContainer.querySelectorAll('.question');
                let score = 0;
                
                questions.forEach(question => {
                    const selectedOption = question.querySelector('.option.selected');
                    const feedback = question.querySelector('.feedback');
                    
                    if (selectedOption) {
                        if (selectedOption.hasAttribute('data-correct')) {
                            selectedOption.classList.add('correct');
                            feedback.textContent = 'Correct!';
                            feedback.classList.add('correct');
                            feedback.classList.remove('wrong');
                            score++;
                        } else {
                            selectedOption.classList.add('wrong');
                            const correctOption = question.querySelector('.option[data-correct="true"]');
                            correctOption.classList.add('correct');
                            feedback.textContent = 'Incorrect. The correct answer is highlighted.';
                            feedback.classList.add('wrong');
                            feedback.classList.remove('correct');
                        }
                        feedback.style.display = 'block';
                    }
                });
                
                // Show score if not already displayed
                if (!quizContainer.querySelector('.score-display')) {
                    const scoreDisplay = document.createElement('div');
                    scoreDisplay.classList.add('score-display');
                    scoreDisplay.style.marginTop = '20px';
                    scoreDisplay.style.padding = '10px';
                    scoreDisplay.style.backgroundColor = '#f0f0f0';
                    scoreDisplay.style.borderRadius = '5px';
                    scoreDisplay.style.textAlign = 'center';
                    scoreDisplay.innerHTML = `<strong>Your score: ${score}/${questions.length}</strong>`;
                    button.insertAdjacentElement('afterend', scoreDisplay);
                }
            });
        });
        
        // Option selection - enhanced for better touch support
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const allOptions = this.parentElement.querySelectorAll('.option');
                allOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
            
            // Additional touch handler for mobile
            option.addEventListener('touchend', function(e) {
                e.preventDefault();
                const allOptions = this.parentElement.querySelectorAll('.option');
                allOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
        
        // COMPLETELY REVISED MOBILE-FRIENDLY DRAG AND DROP
        document.addEventListener('DOMContentLoaded', function() {
            const dragItems = document.querySelectorAll('.drag-item');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            // Variables to track the current dragged element
            let currentDragItem = null;
            let dragItemClone = null;
            let initialX, initialY, currentX, currentY, xOffset, yOffset;
            
            // Initialize the drag items
            dragItems.forEach(item => {
                // Make all drag items draggable
                item.setAttribute('draggable', 'true');
                
                // Traditional mouse events for desktop
                item.addEventListener('dragstart', dragStart);
                item.addEventListener('dragend', dragEnd);
                
                // Touch events for mobile
                item.addEventListener('touchstart', touchStart, { passive: false });
                
                // Track if an item is already placed
                item.dataset.placed = 'false';
            });
            
            // Initialize drop zones
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', dragOver);
                zone.addEventListener('dragleave', dragLeave);
                zone.addEventListener('drop', drop);
                
                // Touch events
                zone.addEventListener('touchmove', touchOver, { passive: false });
                zone.addEventListener('touchend', touchDrop, { passive: false });
            });
            
            // Add document-level touch event listeners
            document.addEventListener('touchmove', touchMove, { passive: false });
            document.addEventListener('touchend', touchEnd, { passive: false });
            
            // Mouse drag functions
            function dragStart(e) {
                if (this.dataset.placed === 'true') return;
                
                currentDragItem = this;
                e.dataTransfer.setData('text/plain', this.dataset.component);
                setTimeout(() => this.classList.add('dragging'), 0);
            }
            
            function dragEnd() {
                this.classList.remove('dragging');
                currentDragItem = null;
            }
            
            function dragOver(e) {
                e.preventDefault();
                this.classList.add('highlight');
            }
            
            function dragLeave() {
                this.classList.remove('highlight');
            }
            
            function drop(e) {
                e.preventDefault();
                this.classList.remove('highlight');
                
                if (!currentDragItem) return;
                
                const dragComponent = e.dataTransfer.getData('text/plain');
                const targetComponent = this.dataset.target;
                
                handleDrop(this, currentDragItem, dragComponent, targetComponent);
            }
            
            // Touch drag functions
            function touchStart(e) {
                if (this.dataset.placed === 'true') return;
                
                // Prevent default to avoid scrolling
                e.preventDefault();
                
                currentDragItem = this;
                
                // Create a clone for visual dragging
                dragItemClone = this.cloneNode(true);
                dragItemClone.classList.add('touch-dragging');
                document.body.appendChild(dragItemClone);
                
                // Get initial touch position
                const touch = e.touches[0];
                initialX = touch.clientX;
                initialY = touch.clientY;
                
                // Calculate offset from the top-left of the element
                const rect = this.getBoundingClientRect();
                xOffset = initialX - rect.left;
                yOffset = initialY - rect.top;
                
                // Position the clone
                updateClonePosition(touch.clientX, touch.clientY);
                
                // Hide original slightly
                this.style.opacity = '0.4';
                
                // Reset all drop zone highlights
                dropZones.forEach(zone => zone.classList.remove('highlight'));
            }
            
            function touchMove(e) {
                if (!currentDragItem || !dragItemClone) return;
                
                e.preventDefault();
                
                const touch = e.touches[0];
                currentX = touch.clientX;
                currentY = touch.clientY;
                
                // Update clone position
                updateClonePosition(currentX, currentY);
                
                // Check if we're over a drop zone
                const elemBelow = getElementBelowPoint(currentX, currentY);
                
                // Highlight drop zone if we're over one
                dropZones.forEach(zone => {
                    if (zone === elemBelow && zone.classList.contains('drop-zone')) {
                        zone.classList.add('highlight');
                    } else {
                        zone.classList.remove('highlight');
                    }
                });
            }
            
            function touchOver(e) {
                if (!currentDragItem) return;
                e.preventDefault();
                
                // This is called when touch moves over a drop zone
                this.classList.add('highlight');
            }
            
            function touchDrop(e) {
                if (!currentDragItem) return;
                e.preventDefault();
                
                this.classList.remove('highlight');
                
                const dragComponent = currentDragItem.dataset.component;
                const targetComponent = this.dataset.target;
                
                handleDrop(this, currentDragItem, dragComponent, targetComponent);
                
                // Clean up
                touchEnd(e);
            }
            
            function touchEnd(e) {
                if (!currentDragItem) return;
                
                // Clean up
                currentDragItem.style.opacity = '';
                
                if (dragItemClone && dragItemClone.parentNode) {
                    dragItemClone.parentNode.removeChild(dragItemClone);
                }
                
                // Reset all drop zone highlights
                dropZones.forEach(zone => zone.classList.remove('highlight'));
                
                currentDragItem = null;
                dragItemClone = null;
            }
            
            // Helper function to handle both mouse and touch drop events
            function handleDrop(dropZone, dragItem, dragComponent, targetComponent) {
                // Check if this is the correct drop zone
                if (targetComponent === dragComponent) {
                    // Create a new drag item for the drop zone
                    const newItem = dragItem.cloneNode(true);
                    newItem.style.opacity = '1';
                    newItem.style.cursor = 'default';
                    newItem.setAttribute('draggable', 'false');
                    
                    // Clear any existing drag items in this zone
                    const existingItems = dropZone.querySelectorAll('.drag-item');
                    existingItems.forEach(item => item.remove());
                    
                    // Add the new item to the drop zone
                    dropZone.appendChild(newItem);
                    dropZone.style.borderColor = 'green';
                    
                    // Mark the original as placed
                    dragItem.dataset.placed = 'true';
                    dragItem.style.display = 'none';
                } else {
                    // Wrong match - visual feedback
                    dropZone.style.borderColor = 'red';
                    setTimeout(() => {
                        dropZone.style.borderColor = '#ddd';
                    }, 1000);
                }
            }
            
            // Helper to update clone position
            function updateClonePosition(x, y) {
                if (dragItemClone) {
                    dragItemClone.style.left = `${x - xOffset}px`;
                    dragItemClone.style.top = `${y - yOffset}px`;
                }
            }
            
            // Helper to get element below a point
            function getElementBelowPoint(x, y) {
                dragItemClone.style.display = 'none'; // Temporarily hide clone
                const element = document.elementFromPoint(x, y);
                dragItemClone.style.display = ''; // Show clone again
                return element;
            }
            
            // Check Answers button for drag and drop
            document.getElementById('check-drag-drop').addEventListener('click', () => {
                let correct = 0;
                const total = dropZones.length;
                let resultHTML = '';
                
                dropZones.forEach(zone => {
                    const targetComponent = zone.getAttribute('data-target');
                    const droppedItem = zone.querySelector(`.drag-item[data-component="${targetComponent}"]`);
                    
                    if (droppedItem) {
                        correct++;
                        zone.style.backgroundColor = 'rgba(39, 174, 96, 0.1)';
                    } else {
                        zone.style.backgroundColor = 'rgba(231, 76, 60, 0.1)';
                    }
                });
                
                // Calculate percentage
                const percentage = Math.round((correct / total) * 100);
                
                // Create result message
                if (percentage === 100) {
                    resultHTML = `<div class="feedback correct" style="display:block"><strong>Perfect! ${correct}/${total} correct (${percentage}%)</strong><br>You've correctly matched all components!</div>`;
                } else if (percentage >= 60) {
                    resultHTML = `<div class="feedback correct" style="display:block"><strong>Good job! ${correct}/${total} correct (${percentage}%)</strong><br>Keep practicing to improve your knowledge.</div>`;
                } else {
                    resultHTML = `<div class="feedback wrong" style="display:block"><strong>Needs improvement. ${correct}/${total} correct (${percentage}%)</strong><br>Review the suspension components section again.</div>`;
                }
                
                // Display the result
                document.getElementById('drag-drop-result').innerHTML = resultHTML;
            });
        });
        
        
        // Flashcard functionality - enhanced for touch support
        const flashcards = document.querySelectorAll('.flashcard');
        const steeringTerms = [
            {
                term: 'Understeer',
                definition: 'A handling condition where the vehicle tends to continue straight ahead when cornering, with the front tires losing grip before the rear tires. The car "pushes" toward the outside of the turn.'
            },
            {
                term: 'Oversteer',
                definition: 'A handling condition where the rear of the vehicle tends to slide out during cornering, with the rear tires losing grip before the front tires. The car turns more sharply than intended.'
            },
            {
                term: 'Ackerman Principle',
                definition: 'Steering geometry design that causes the inside wheel to turn at a greater angle than the outside wheel during cornering, allowing both wheels to follow their correct turning radius.'
            },
            {
                term: 'Self-Aligning Torque',
                definition: 'The tendency of the steering to return to the straight-ahead position after a turn, due to castor angle and tire design.'
            }
        ];
        
        const tyreTerms = [
            {
                term: 'Unsprung Weight',
                definition: 'The weight of components not supported by the suspension (wheels, tyres, brake assemblies). Lower unsprung weight improves ride quality and handling by allowing the suspension to respond more quickly to road irregularities.'
            },
            {
                term: 'Dynamic Balance',
                definition: 'The distribution of weight around a wheel and tire assembly when it is rotating. Proper dynamic balance prevents vibration at higher speeds.'
            },
            {
                term: 'Static Balance',
                definition: 'The even distribution of weight around a wheel and tire assembly when it is stationary. Proper static balance prevents the wheel from having a heavy spot.'
            },
            {
                term: 'Aspect Ratio',
                definition: 'The ratio of a tire\'s height to its width, expressed as a percentage. A lower aspect ratio indicates a shorter sidewall, typically providing better handling but a firmer ride.'
            }
        ];
        
        let currentSteeringCard = 0;
        let currentTyreCard = 0;
        
        function updateFlashcard(type) {
            const flashcard = document.getElementById(type === 'steering' ? 'flashcard-1' : 'tyre-flashcard-1');
            const front = flashcard.querySelector('.flashcard-front p');
            const back = flashcard.querySelector('.flashcard-back p');
            
            const terms = type === 'steering' ? steeringTerms : tyreTerms;
            const currentIndex = type === 'steering' ? currentSteeringCard : currentTyreCard;
            
            front.textContent = terms[currentIndex].term;
            back.textContent = terms[currentIndex].definition;
            
            // Reset flip if needed
            flashcard.classList.remove('flipped');
        }
        
        // Initial flashcard setup
        updateFlashcard('steering');
        updateFlashcard('tyre');
        
        // Flashcard button events - with touch support
        function setupFlashcardEvents(flipBtn, prevBtn, nextBtn, flashcardId, currentIndexVar, terms, type) {
            // Flip card - both click and touch
            flipBtn.addEventListener('click', () => {
                document.getElementById(flashcardId).classList.toggle('flipped');
            });
            
            // Direct touch on flashcard to flip
            document.getElementById(flashcardId).addEventListener('touchend', (e) => {
                if (e.target.closest('.flashcard-inner')) {
                    e.preventDefault();
                    document.getElementById(flashcardId).classList.toggle('flipped');
                }
            });
            
            // Next and previous
            nextBtn.addEventListener('click', () => {
                if (type === 'steering') {
                    currentSteeringCard = (currentSteeringCard + 1) % terms.length;
                    updateFlashcard('steering');
                } else {
                    currentTyreCard = (currentTyreCard + 1) % terms.length;
                    updateFlashcard('tyre');
                }
            });
            
            prevBtn.addEventListener('click', () => {
                if (type === 'steering') {
                    currentSteeringCard = (currentSteeringCard - 1 + terms.length) % terms.length;
                    updateFlashcard('steering');
                } else {
                    currentTyreCard = (currentTyreCard - 1 + terms.length) % terms.length;
                    updateFlashcard('tyre');
                }
            });
            
            // Swipe left/right for next/previous
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.getElementById(flashcardId).addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
            });
            
            document.getElementById(flashcardId).addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].clientX;
                handleFlashcardSwipe(type);
            });
            
            function handleFlashcardSwipe(type) {
                const minSwipeDistance = 50;
                const swipeDistance = touchEndX - touchStartX;
                
                if (Math.abs(swipeDistance) > minSwipeDistance) {
                    if (swipeDistance > 0) {
                        // Swipe right (previous)
                        if (type === 'steering') {
                            currentSteeringCard = (currentSteeringCard - 1 + steeringTerms.length) % steeringTerms.length;
                            updateFlashcard('steering');
                        } else {
                            currentTyreCard = (currentTyreCard - 1 + tyreTerms.length) % tyreTerms.length;
                            updateFlashcard('tyre');
                        }
                    } else {
                        // Swipe left (next)
                        if (type === 'steering') {
                            currentSteeringCard = (currentSteeringCard + 1) % steeringTerms.length;
                            updateFlashcard('steering');
                        } else {
                            currentTyreCard = (currentTyreCard + 1) % tyreTerms.length;
                            updateFlashcard('tyre');
                        }
                    }
                }
            }
        }
        
        // Set up flashcard events
        setupFlashcardEvents(
            document.getElementById('flip-card'),
            document.getElementById('prev-card'),
            document.getElementById('next-card'),
            'flashcard-1',
            currentSteeringCard,
            steeringTerms,
            'steering'
        );
        
        setupFlashcardEvents(
            document.getElementById('tyre-flip-card'),
            document.getElementById('tyre-prev-card'),
            document.getElementById('tyre-next-card'),
            'tyre-flashcard-1',
            currentTyreCard,
            tyreTerms,
            'tyre'
        );
        
        // Mock Exam
        document.getElementById('check-exam').addEventListener('click', () => {
            const examQuestions = document.querySelectorAll('#mock-exam .question');
            let score = 0;
            let answered = 0;
            
            examQuestions.forEach(question => {
                const selectedOption = question.querySelector('.option.selected');
                const feedback = question.querySelector('.feedback');
                
                if (selectedOption) {
                    answered++;
                    
                    if (selectedOption.hasAttribute('data-correct')) {
                        selectedOption.classList.add('correct');
                        feedback.textContent = 'Correct!';
                        feedback.classList.add('correct');
                        feedback.classList.remove('wrong');
                        score++;
                    } else {
                        selectedOption.classList.add('wrong');
                        const correctOption = question.querySelector('.option[data-correct="true"]');
                        correctOption.classList.add('correct');
                        feedback.textContent = 'Incorrect. The correct answer is highlighted.';
                        feedback.classList.add('wrong');
                        feedback.classList.remove('correct');
                    }
                    feedback.style.display = 'block';
                }
            });
            
            // Update progress bar
            const progressBar = document.getElementById('exam-progress');
            progressBar.style.width = `${answered * 10}%`;
            progressBar.textContent = `${answered * 10}%`;
            
            // Display result if all questions answered
            if (answered === examQuestions.length) {
                const resultElement = document.getElementById('exam-result');
                const percentage = (score / examQuestions.length) * 100;
                
                let resultClass, resultText;
                
                if (percentage >= 80) {
                    resultClass = 'correct';
                    resultText = 'Excellent!';
                } else if (percentage >= 60) {
                    resultClass = 'correct';
                    resultText = 'Good job!';
                } else {
                    resultClass = 'wrong';
                    resultText = 'Needs improvement.';
                }
                
                resultElement.innerHTML = `
                    <div class="feedback ${resultClass}" style="display: block;">
                        <h3>Exam Results</h3>
                        <p><strong>Score: ${score}/${examQuestions.length} (${percentage}%)</strong></p>
                        <p>${resultText}</p>
                        <p>Revisit any sections you struggled with before your actual exam.</p>
                    </div>
                `;
                resultElement.style.display = 'block';
                
                // Scroll to results
                setTimeout(() => {
                    resultElement.scrollIntoView({ behavior: 'smooth' });
                }, 500);
            }
        });
    </script>
</body>
</html>
